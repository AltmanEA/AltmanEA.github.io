<!DOCTYPE html>
<html lang="ru">
<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title>5. Основы GIT - Информационные технологии (часть 2)</title>
<meta name="generator" content="Hugo 0.88.1" />
<link href="https://altmanea.ru/it2//index.xml" rel="alternate" type="application/rss+xml">
<link rel="canonical" href="https://altmanea.ru/it2/labs/git-basic/">
<link rel="stylesheet" href="https://altmanea.ru/it2/css/theme.min.css">
<script src="https://use.fontawesome.com/releases/v5.0.6/js/all.js"></script>
<link rel="stylesheet" href="https://altmanea.ru/it2/css/chroma.min.css">
<script src="https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery.easing@1.4.1/jquery.easing.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js"></script>
<script src="https://altmanea.ru/it2/js/bundle.js"></script><style>
:root {--custom-font-color: white;--custom-background-color: blue;}
</style>
<meta property="og:title" content="5. Основы GIT" />
<meta property="og:description" content="Теоретические сведения Терминология Система контроля версий (СКВ, англ. Version Control System, VCS, переводится также как система управления версий) – система, позволяющая хранить все версии документов и переключаться между этими версиями. Современные СКВ позволяют также организовать совместную работу над документами, анализировать изменения в них, использовать части документов в различных проектах и другие полезные действия.
Репозиторий (Repository) – группа файлов и каталогов, относящихся к одному проекту, в рамках которого создается какой-либо документ или программа." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://altmanea.ru/it2/labs/git-basic/" /><meta property="article:section" content="labs" />



<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="5. Основы GIT"/>
<meta name="twitter:description" content="Теоретические сведения Терминология Система контроля версий (СКВ, англ. Version Control System, VCS, переводится также как система управления версий) – система, позволяющая хранить все версии документов и переключаться между этими версиями. Современные СКВ позволяют также организовать совместную работу над документами, анализировать изменения в них, использовать части документов в различных проектах и другие полезные действия.
Репозиторий (Repository) – группа файлов и каталогов, относящихся к одному проекту, в рамках которого создается какой-либо документ или программа."/>
<meta itemprop="name" content="5. Основы GIT">
<meta itemprop="description" content="Теоретические сведения Терминология Система контроля версий (СКВ, англ. Version Control System, VCS, переводится также как система управления версий) – система, позволяющая хранить все версии документов и переключаться между этими версиями. Современные СКВ позволяют также организовать совместную работу над документами, анализировать изменения в них, использовать части документов в различных проектах и другие полезные действия.
Репозиторий (Repository) – группа файлов и каталогов, относящихся к одному проекту, в рамках которого создается какой-либо документ или программа.">

<meta itemprop="wordCount" content="992">
<meta itemprop="keywords" content="" />
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-148810194-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-148810194-1');
</script></head>
<body><div class="container"><header>
<h1>Информационные технологии (часть 2)</h1>
</header>

<div class="content-container">
<main><h1>5. Основы GIT</h1>
<h2 id="теоретические-сведения">Теоретические сведения</h2>
<h3 id="терминология">Терминология</h3>
<p><strong>Система контроля версий</strong> (СКВ, англ. Version Control System, VCS, переводится также как система управления версий) – система, позволяющая хранить все версии документов и переключаться между этими версиями. Современные СКВ позволяют также организовать совместную работу над документами, анализировать изменения в них, использовать части документов в различных проектах и другие полезные действия.</p>
<p><strong>Репозиторий</strong> (Repository) – группа файлов и каталогов, относящихся к одному проекту, в рамках которого создается какой-либо документ или программа. Применительно  к СКВ, репозиторием можно также назвать каталог, находящийся под контролем СКВ.</p>
<p><strong>Рабочий каталог</strong> (Working directory) – это каталог, в котором находится текущая версия документов. С этой версией работает пользователь в текстовом редакторе и она обновляется при сохранении документа.</p>
<p><strong>Индекс</strong> (Stage) – проиндексированная версия документов. Иногда используется дословный перевод английского термина – сцена. Эта версия проиндексирована в СКВ, но не зафиксирована в долговременном хранилище. Данную версию можно выгрузить в рабочий каталог (после того, как в нем произошли изменения), однако при повторном индексировании предыдущая индексированная версия пропадет.</p>
<p><strong>Фиксированное состояние</strong> (Commit) – зафиксированная версия документов. Далее, для простоты и придерживаясь распространенной практики, будем использовать термин <strong>коммит</strong>. При фиксации новой версии документов предыдущие коммиты не удаляются, они хранятся и доступны в течении всего времени существования репозитория (если явным образом не изменяются пользователем с помощью специальных команд). При клонировании репозитория или размещении его на сервере производится копирование только зафиксированных версий документа.</p>
<p>В зависимости от этапа работы с документом, каждый файл в каталоге репозитория может находится в одном из следующих состояний:</p>
<ul>
<li><strong>Не отслеживаемый</strong> (Untracked) – файл, находящийся в каталоге репозитория, но не контролируемый системой контроля версий.</li>
<li><strong>Проиндексированный</strong> (Staged) - файл, добавленный в систему контроля версий но не зафиксированный в коммите.</li>
<li><strong>Не модифицированный</strong> (Unmodified) - файл, зафиксированный в коммите и не измененный после этого. Версии такого файла в рабочем каталоге, индексе и коммите совпадают.</li>
<li><strong>Модифицированный</strong> (Modified) - файл, зафиксированный в коммите и измененный после этого. Версии такого файла в индексе и коммите совпадают, а версия в рабочем каталоге отличается от них.</li>
</ul>
<h3 id="команды">Команды</h3>
<p>Репозиторий создается в папке на компьютере. Для его создания нужно в этой папке дать команду</p>
<pre tabindex="0"><code>git init
</code></pre><p>В папке репозитория будет создана папка <code>.git</code>, в которой будут храниться все служебные файлы репозитория, индекс и коммиты. Хранение коммитов оптимизировано (хранятся только изменения между различными версиями).</p>
<p>Для просмотра основной информации о состоянии репозитория (прежде всего, о состоянии находящихся в каталоге репозитория файлов) можно использовать следующую команду:</p>
<pre tabindex="0"><code>git status
</code></pre><p>Команды для индексации, фиксации и обратных к ним действий схематично показаны на рисунке 1.</p>
<center>
<img src="../images/states.png" width=60%>
<p>Рисунок 1 – Состояния документа</p>
</center>
<p>Для включения в репозиторий файлов, находящихся в папке репозитория,  используется команда</p>
<pre>
git add <i>files</i>
</pre>
<p>Вместо <i>files</i> может стоять имя файла или файлов. При указании нескольких файлов можно использовать маски файлов (<strong>file glob</strong>). Например, «<code>*</code>» добавить все файлы в каталоге, «<code>src/*.c</code>» добавить все файлы с расширением «<code>c</code>» из каталога «<code>src</code>».</p>
<p>Эту же команду следует использовать для переиндексации файлов после их изменений.</p>
<p>Если в команде на переиндексацию произошла ошибка (типичный пример – в нее попали лишние файлы), то ее можно отменить с помощью команды</p>
<pre>
git reset HEAD <i>files</i>
</pre>
<p>Строго говоря, эта команда восстанавливает предыдущий вариант проиндексированной версии документов из последнего коммита. По сути, это приводит к отмене последней индексации.</p>
<p>В случае неудачных изменений в рабочем каталоге можно вернуться к проиндексированной версии документов. Для этого используется команда</p>
<pre>
git checkout -- <i>files</i>
</pre>
<p>Два дефиса в команде указывают на то, что нужно восстановить в рабочий каталог именно проиндексированную версию файлов. Эту команду следует вводить с осторожностью, поскольку при ее выполнении все изменения, которые внесены в файлы после последней индексации, будут потеряны.</p>
<p>Команды <code>git reset</code> и <code>git checkout</code> обладают существенно большими возможностями, чем рассмотрено выше. При использовании некоторых опций они могут приводить к стиранию данных, находящихся в репозитории, поэтому при их выполнении нужно внимательно проверять параметры этих команд.</p>
<p>Зафиксировать проиндексированную версию можно с помощью команды</p>
<pre>
git commit
</pre>
<p>Помимо некоторой версии всех документов, находящихся под контролем СКВ, для каждого коммита в репозитории хранится ряд метаданных: автор коммита, дата, сообщение от автора коммита о его назначении. Также каждый коммит имеет идентификатор, который получается из контрольной суммы и записывается шестнадцатеричными числами.</p>
<p>При создании коммита нужно явным образом указать для него сообщение от автора. Оно необходимо для отслеживания истории изменения документов и быстрого поиска коммитов. Если ввести команду без дополнительных параметров, то система <code>git</code> попросит ввести в терминале это сообщение. Более удобным вариантом является задание сообщения с помощью параметра <code>m</code> (message). Например:</p>
<pre>
git commit -m <i>"First commit"</i>
</pre>
<p>Для операции создания коммита не предусмотрена возможность ее отмены. Отмена коммита противоречит сути СКВ – фиксации всех изменений в документах.</p>
<p>Вместе с тем, существует возможность внести изменения (дополнения) в последний коммит. Для этого используется следующая команда:</p>
<pre>
git commit --amend
</pre>
<p>Она вносит изменения, которые произошли в индексе, в последний коммит, при этом оставляя в коммите автора, сообщение от автора и другую метаинформацию.</p>
<p>Для просмотра всех коммитов в репозитории используется команда</p>
<pre>
git log
</pre>
<p>По умолчанию эта команда выводит метаинформацию о каждом коммите.</p>
<p>Команда <code>git log</code> имеет много опций для настройки содержания и внешнего вида выводимой информации. Например ключ <code>-p</code> выводит информацию о файлах, в которых произошли изменения в коммите, ключи в виде дефиса и цифры задает количество выводимых коммитов. Ключ <code>--pretty</code> позволяет задать формат вывода информации и, в свою очередь, имеет большое количество опций. Например [4]:</p>
<pre tabindex="0"><code>git log --pretty=format:&quot;%h %ad | %s%d [%an]&quot; --date=short
</code></pre><p>Для просмотра полного списка опций нужно выполнить команду</p>
<pre>
git log --help
</pre>
<h2 id="задание-к-работе">Задание к работе</h2>
<p>После выполнения каждого пункта задания нужно выполнить команду для проверки состояния репозитория и проанализировать полученные результаты.</p>
<ol>
<li>Создайте папку для репозитория СКВ, инициализируйте в ней репозиторий git.</li>
<li>Создайте файл <code>ФИО_СТУДЕНТА.md</code>, в названии файла подставьте свое ФИО латинскими буквами, в тексте файла наберите свою группу и фамилию.</li>
<li>Проиндексируйте этот файл.</li>
<li>Добавьте в файл заголовок: «Отчет».</li>
<li>Проиндексируйте этот файл.</li>
<li>Зафиксируйте этот файл.</li>
<li>Добавьте в файл произвольный текст после заголовка. Восстановите предыдущую версию файла из индекса.</li>
<li>Добавьте в файл другой произвольный текст после заголовка. Проиндексируйте его. Отмените индексирование. Восстановите предыдущую версию файла из индекса.</li>
<li>Добавьте в файл после заголовка название текущей лабораторной работы. Проиндексируйте его. Добавьте изменение в предыдущий коммит.</li>
<li>Добавьте в файл еще один заголовок и текст к нему. Проиндексируйте и зафиксируйте файл. Просмотрите историю коммитов с различными опциями.</li>
</ol>
<div class="edit-meta">

<br></div><nav class="pagination"><a class="nav nav-prev" href="https://altmanea.ru/it2/labs/container/" title="4. Настройка ресурсов контейнеров docker"><i class="fas fa-arrow-left" aria-hidden="true"></i> Prev - 4. Настройка ресурсов контейнеров docker</a>
<a class="nav nav-next" href="https://altmanea.ru/it2/labs/git-branch/" title="6. Ветки в GIT">Next - 6. Ветки в GIT <i class="fas fa-arrow-right" aria-hidden="true"></i></a>
</nav><footer><p align="right">
    <a href="https://altmanea.ru">&copy; Альтман Е. А. 2020-2021</a>
</p>
</footer>
</main>
<div class="sidebar">

<nav class="slide-menu">
<ul>
<li class=""><a href="https://altmanea.ru/it2/">Home</a></li>

<li class=""><a href="https://altmanea.ru/it2/exam/">Зачет</a>
  
</li>

<li class="parent has-sub-menu"><a href="https://altmanea.ru/it2/labs/">Лабораторные<span class="mark opened">-</span></a>
  
<ul class="sub-menu">
<li class=""><a href="https://altmanea.ru/it2/labs/vm/">1. Установка Ubuntu на виртуальную машину</a></li>
<li class=""><a href="https://altmanea.ru/it2/labs/share/">2. Взаимодействие гостевой ОС и хоста</a></li>
<li class=""><a href="https://altmanea.ru/it2/labs/docker/">3. Основы docker</a></li>
<li class=""><a href="https://altmanea.ru/it2/labs/container/">4. Настройка ресурсов контейнеров docker</a></li>
<li class="active"><a href="https://altmanea.ru/it2/labs/git-basic/">5. Основы GIT</a></li>
<li class=""><a href="https://altmanea.ru/it2/labs/git-branch/">6. Ветки в GIT</a></li>
<li class=""><a href="https://altmanea.ru/it2/labs/git-merge/">7. Объединение веток</a></li>
<li class=""><a href="https://altmanea.ru/it2/labs/git-remote/">8. Удаленные репозитории</a></li>
<li class=""><a href="https://altmanea.ru/it2/labs/java/">9. Платформа Java</a></li>
<li class=""><a href="https://altmanea.ru/it2/labs/cmake/">10. Сборка кроссплатформенных программ</a></li>
</ul>
  
</li>

<li class=" has-sub-menu"><a href="https://altmanea.ru/it2/lecture/">Лекции<span class="mark closed">+</span></a>
  
<ul class="sub-menu">
<li class=""><a href="https://altmanea.ru/it2/lecture/workbook/">Рабочая тетрадь</a></li>
<li class=""><a href="https://altmanea.ru/it2/lecture/vm/">1. Установка Ubuntu на виртуальную машину</a></li>
<li class=""><a href="https://altmanea.ru/it2/lecture/share/">2. Взаимодействие виртуальной и физической машины в VirtualBox</a></li>
<li class=""><a href="https://altmanea.ru/it2/lecture/docker/">3. Основы docker</a></li>
<li class=""><a href="https://altmanea.ru/it2/lecture/container/">4. Настройка ресурсов контейнеров docker</a></li>
<li class=""><a href="https://altmanea.ru/it2/lecture/git-basic/">5. Основы GIT</a></li>
<li class=""><a href="https://altmanea.ru/it2/lecture/git-branch/">6. Ветки в GIT</a></li>
<li class=""><a href="https://altmanea.ru/it2/lecture/git-remote/">7. Объединение веток в GIT</a></li>
<li class=""><a href="https://altmanea.ru/it2/lecture/git-merge/">8. Удаленные ветки в GIT</a></li>
<li class=""><a href="https://altmanea.ru/it2/lecture/java/">9. Виртуальная машина Java</a></li>
</ul>
  
</li>
</ul>
</nav>



<div class="sidebar-footer"></div>
</div>

</div><a href="#" id="backtothetop-fixed" class="backtothetop"
 data-backtothetop-duration="600"
 data-backtothetop-easing="easeOutQuart"
 data-backtothetop-fixed-fadeIn="1000"
 data-backtothetop-fixed-fadeOut="1000"
 data-backtothetop-fixed-bottom="10"
 data-backtothetop-fixed-right="20">
<span class="fa-layers fa-fw">
<i class="fas fa-circle"></i>
<i class="fas fa-arrow-circle-up"></i>
</span></a>
</div>
</body>
</html>
